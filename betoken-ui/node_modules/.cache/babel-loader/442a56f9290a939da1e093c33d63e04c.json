{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/aneeshpothuru/Documents/GitHubProjects/paugur/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{websitePrefix}from\"../../api-info\";import Input from\"../../../components/input/input\";import Button from\"../../../components/button/button\";import{useDispatch}from\"react-redux\";import{startLoading,cancelLoading}from\"../../../redux/loading/loading.actions\";import{SignInContainer,ButtonContainer,BoldSpan}from\"./sign-in.styles\";export var SignInAPI=function SignInAPI(username,password){return axios({url:websitePrefix+\"api/log-login-attempt/\",method:\"POST\",data:{\"user-id\":username,\"user-password\":password},headers:{\"Content-Type\":\"application/json\"},mode:\"cors\"});};var SignIn=function SignIn(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),invalid=_useState6[0],setInvalid=_useState6[1];var dispatch=useDispatch();var onUserChange=function onUserChange(event){setUsername(event.target.value);};var onPassChange=function onPassChange(event){setPass(event.target.value);};var onButtonRequest=function onButtonRequest(){dispatch(startLoading());SignInAPI(username,pass).then(function(response){if(!response.data){setInvalid(\"Wrong Credentials, try again\");console.log(response);}else{setInvalid(\"\");console.log(response);}dispatch(cancelLoading());}).catch(function(error){dispatch(cancelLoading());alert(\"Something went wrong, Recorded \"+error);});};return/*#__PURE__*/_jsxs(SignInContainer,{children:[/*#__PURE__*/_jsx(Input,{name:\"username\",type:\"text\",label:\"Username\",value:username,inputChange:onUserChange}),/*#__PURE__*/_jsx(Input,{name:\"password\",type:\"password\",label:\"Password\",value:pass,inputChange:onPassChange}),/*#__PURE__*/_jsx(BoldSpan,{children:invalid}),/*#__PURE__*/_jsx(ButtonContainer,{children:/*#__PURE__*/_jsx(Button,{onClick:onButtonRequest,label:\"Sign In\"})})]});};export default SignIn;","map":{"version":3,"sources":["/Users/aneeshpothuru/Documents/GitHubProjects/paugur/src/api/user-info/sign-in/sign-in.js"],"names":["React","useState","axios","websitePrefix","Input","Button","useDispatch","startLoading","cancelLoading","SignInContainer","ButtonContainer","BoldSpan","SignInAPI","username","password","url","method","data","headers","mode","SignIn","setUsername","pass","setPass","invalid","setInvalid","dispatch","onUserChange","event","target","value","onPassChange","onButtonRequest","then","response","console","log","catch","error","alert"],"mappings":"mQAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mCAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OACEC,YADF,CAEEC,aAFF,KAGO,wCAHP,CAIA,OAASC,eAAT,CAA0BC,eAA1B,CAA2CC,QAA3C,KAA2D,kBAA3D,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAWC,QAAX,CAAwB,CAC/C,MAAOZ,CAAAA,KAAK,CAAC,CACXa,GAAG,CAAEZ,aAAa,CAAG,wBADV,CAEXa,MAAM,CAAE,MAFG,CAGXC,IAAI,CAAE,CACJ,UAAWJ,QADP,CAEJ,gBAAiBC,QAFb,CAHK,CAOXI,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAPE,CAQXC,IAAI,CAAE,MARK,CAAD,CAAZ,CAUD,CAXM,CAaP,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACanB,QAAQ,CAAC,EAAD,CADrB,wCACZY,QADY,eACFQ,WADE,8BAEKpB,QAAQ,CAAC,EAAD,CAFb,yCAEZqB,IAFY,eAENC,OAFM,8BAGWtB,QAAQ,CAAC,EAAD,CAHnB,yCAGZuB,OAHY,eAGHC,UAHG,eAInB,GAAMC,CAAAA,QAAQ,CAAGpB,WAAW,EAA5B,CAEA,GAAMqB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BP,WAAW,CAACO,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,KAAD,CAAW,CAC9BL,OAAO,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACD,CAFD,CAIA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BN,QAAQ,CAACnB,YAAY,EAAb,CAAR,CACAK,SAAS,CAACC,QAAD,CAAWS,IAAX,CAAT,CACGW,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAI,CAACA,QAAQ,CAACjB,IAAd,CAAoB,CAClBQ,UAAU,CAAC,8BAAD,CAAV,CACAU,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CAHD,IAGO,CACLT,UAAU,CAAC,EAAD,CAAV,CACAU,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CACDR,QAAQ,CAAClB,aAAa,EAAd,CAAR,CACD,CAVH,EAWG6B,KAXH,CAWS,SAACC,KAAD,CAAW,CAChBZ,QAAQ,CAAClB,aAAa,EAAd,CAAR,CACA+B,KAAK,CAAC,kCAAoCD,KAArC,CAAL,CACD,CAdH,EAeD,CAjBD,CAmBA,mBACE,MAAC,eAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAC,UAHR,CAIE,KAAK,CAAEzB,QAJT,CAKE,WAAW,CAAEc,YALf,EADF,cAQE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAC,UAHR,CAIE,KAAK,CAAEL,IAJT,CAKE,WAAW,CAAES,YALf,EARF,cAeE,KAAC,QAAD,WAAWP,OAAX,EAfF,cAgBE,KAAC,eAAD,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAEQ,eAAjB,CAAkC,KAAK,CAAC,SAAxC,EADF,EAhBF,GADF,CAsBD,CAvDD,CAyDA,cAAeZ,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { websitePrefix } from \"../../api-info\";\nimport Input from \"../../../components/input/input\";\nimport Button from \"../../../components/button/button\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  startLoading,\n  cancelLoading,\n} from \"../../../redux/loading/loading.actions\";\nimport { SignInContainer, ButtonContainer, BoldSpan } from \"./sign-in.styles\";\n\nexport const SignInAPI = (username, password) => {\n  return axios({\n    url: websitePrefix + \"api/log-login-attempt/\",\n    method: \"POST\",\n    data: {\n      \"user-id\": username,\n      \"user-password\": password,\n    },\n    headers: { \"Content-Type\": \"application/json\" },\n    mode: \"cors\",\n  });\n};\n\nconst SignIn = () => {\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [invalid, setInvalid] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const onUserChange = (event) => {\n    setUsername(event.target.value);\n  };\n\n  const onPassChange = (event) => {\n    setPass(event.target.value);\n  };\n\n  const onButtonRequest = () => {\n    dispatch(startLoading());\n    SignInAPI(username, pass)\n      .then((response) => {\n        if (!response.data) {\n          setInvalid(\"Wrong Credentials, try again\");\n          console.log(response);\n        } else {\n          setInvalid(\"\");\n          console.log(response);\n        }\n        dispatch(cancelLoading());\n      })\n      .catch((error) => {\n        dispatch(cancelLoading());\n        alert(\"Something went wrong, Recorded \" + error);\n      });\n  };\n\n  return (\n    <SignInContainer>\n      <Input\n        name=\"username\"\n        type=\"text\"\n        label=\"Username\"\n        value={username}\n        inputChange={onUserChange}\n      />\n      <Input\n        name=\"password\"\n        type=\"password\"\n        label=\"Password\"\n        value={pass}\n        inputChange={onPassChange}\n      />\n      <BoldSpan>{invalid}</BoldSpan>\n      <ButtonContainer>\n        <Button onClick={onButtonRequest} label=\"Sign In\" />\n      </ButtonContainer>\n    </SignInContainer>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}