{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/aneeshpothuru/Documents/GitHubProjects/paugur/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aneeshpothuru/Documents/GitHubProjects/paugur/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/aneeshpothuru/Documents/GitHubProjects/paugur/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{websitePrefix}from\"../../../constants/api/api.constants\";import Input from\"../../../components/input/input\";import Button from\"../../../components/button/button\";import{useDispatch}from\"react-redux\";import{startLoading,cancelLoading}from\"../../../redux/loading/loading.actions\";import Logo from\"../../../components/logo/logo\";import{ROUTES}from\"../../../constants/routes/routes.constants\";import{SignInContainer,ButtonContainer,InputContainer,BoldSpan,LinkStyled,SubmitContainer}from\"./sign-in.styles\";export var SignInAPI=function SignInAPI(username,password){return axios({url:websitePrefix+\"api/log-login-attempt/\",method:\"POST\",data:{\"user-id\":username,\"user-password\":password},headers:{\"Content-Type\":\"application/json\"},mode:\"cors\"}).then(function(response){return response.data;}).catch(function(error){alert(\"Something went wrong, Recorded \"+error);});};var SignIn=function SignIn(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),invalid=_useState6[0],setInvalid=_useState6[1];var fail=\"Wrong credentials, try again.\";var dispatch=useDispatch();var onUserChange=function onUserChange(event){setUsername(event.target.value);};var onPassChange=function onPassChange(event){setPass(event.target.value);};var onButtonRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(startLoading());_context.next=3;return SignInAPI(username,pass);case 3:resData=_context.sent;setInvalid(!resData[\"login-success\"]?true:false);dispatch(cancelLoading());case 6:case\"end\":return _context.stop();}}},_callee);}));return function onButtonRequest(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(SignInContainer,{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(BoldSpan,{color:\"white\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(Input,{name:\"username\",type:\"text\",label:\"Username\",value:username,size:\"large\",inputChange:onUserChange}),/*#__PURE__*/_jsx(Input,{name:\"password\",type:\"password\",label:\"Password\",value:pass,size:\"large\",inputChange:onPassChange})]}),/*#__PURE__*/_jsxs(SubmitContainer,{children:[invalid?/*#__PURE__*/_jsx(BoldSpan,{size:20,color:\"red\",children:fail}):/*#__PURE__*/_jsx(BoldSpan,{size:20,color:\"red\"}),/*#__PURE__*/_jsx(ButtonContainer,{children:/*#__PURE__*/_jsx(Button,{onClick:onButtonRequest,label:\"Sign In\"})}),/*#__PURE__*/_jsx(LinkStyled,{to:ROUTES.SIGN_UP,children:\"New User? Click here to Register\"})]})]});};export default SignIn;","map":{"version":3,"sources":["/Users/aneeshpothuru/Documents/GitHubProjects/paugur/src/api/user-info/sign-in/sign-in.js"],"names":["React","useState","axios","websitePrefix","Input","Button","useDispatch","startLoading","cancelLoading","Logo","ROUTES","SignInContainer","ButtonContainer","InputContainer","BoldSpan","LinkStyled","SubmitContainer","SignInAPI","username","password","url","method","data","headers","mode","then","response","catch","error","alert","SignIn","setUsername","pass","setPass","invalid","setInvalid","fail","dispatch","onUserChange","event","target","value","onPassChange","onButtonRequest","resData","SIGN_UP"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { websitePrefix } from \"../../../constants/api/api.constants\";\nimport Input from \"../../../components/input/input\";\nimport Button from \"../../../components/button/button\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  startLoading,\n  cancelLoading,\n} from \"../../../redux/loading/loading.actions\";\nimport Logo from \"../../../components/logo/logo\";\nimport { ROUTES } from \"../../../constants/routes/routes.constants\";\nimport {\n  SignInContainer,\n  ButtonContainer,\n  InputContainer,\n  BoldSpan,\n  LinkStyled,\n  SubmitContainer,\n} from \"./sign-in.styles\";\n\nexport const SignInAPI = (username, password) => {\n  return axios({\n    url: websitePrefix + \"api/log-login-attempt/\",\n    method: \"POST\",\n    data: {\n      \"user-id\": username,\n      \"user-password\": password,\n    },\n    headers: { \"Content-Type\": \"application/json\" },\n    mode: \"cors\",\n  })\n    .then((response) => response.data)\n    .catch((error) => {\n      alert(\"Something went wrong, Recorded \" + error);\n    });\n};\n\nconst SignIn = () => {\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [invalid, setInvalid] = useState(false);\n  let fail = \"Wrong credentials, try again.\";\n  const dispatch = useDispatch();\n\n  const onUserChange = (event) => {\n    setUsername(event.target.value);\n  };\n\n  const onPassChange = (event) => {\n    setPass(event.target.value);\n  };\n\n  const onButtonRequest = async () => {\n    dispatch(startLoading());\n    let resData = await SignInAPI(username, pass);\n    setInvalid(!resData[\"login-success\"] ? true : false);\n    dispatch(cancelLoading());\n  };\n\n  return (\n    <SignInContainer>\n      <Logo />\n      <BoldSpan color=\"white\">Sign In</BoldSpan>\n      <InputContainer>\n        <Input\n          name=\"username\"\n          type=\"text\"\n          label=\"Username\"\n          value={username}\n          size=\"large\"\n          inputChange={onUserChange}\n        />\n        <Input\n          name=\"password\"\n          type=\"password\"\n          label=\"Password\"\n          value={pass}\n          size=\"large\"\n          inputChange={onPassChange}\n        />\n      </InputContainer>\n      <SubmitContainer>\n        {invalid ? (\n          <BoldSpan size={20} color=\"red\">\n            {fail}\n          </BoldSpan>\n        ) : (\n          <BoldSpan size={20} color=\"red\"></BoldSpan>\n        )}\n        <ButtonContainer>\n          <Button onClick={onButtonRequest} label=\"Sign In\" />\n        </ButtonContainer>\n        <LinkStyled to={ROUTES.SIGN_UP}>\n          New User? Click here to Register\n        </LinkStyled>\n      </SubmitContainer>\n    </SignInContainer>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}