{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/aneeshpothuru/Documents/GitHubProjects/paugur/src/api/user-info/sign-in/sign-in.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { websitePrefix } from \"../../api-info\";\nimport Input from \"../../../components/input/input\";\nimport Button from \"../../../components/button/button\";\nimport { useDispatch } from \"react-redux\";\nimport { startLoading, cancelLoading } from \"../../../redux/loading/loading.actions\";\nimport { SignInContainer, ButtonContainer, BoldSpan } from \"./sign-in.styles\";\nexport const SignInAPI = (username, password) => {\n  return axios({\n    url: websitePrefix + \"api/log-login-attempt/\",\n    method: \"POST\",\n    data: {\n      \"user-id\": username,\n      \"user-password\": password\n    },\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    mode: \"cors\"\n  });\n};\n_c = SignInAPI;\n\nconst SignIn = () => {\n  _s2();\n\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [invalid, setInvalid] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const onUserChange = event => {\n    setUsername(event.target.value);\n  };\n\n  const onPassChange = event => {\n    setPass(event.target.value);\n  };\n\n  const onButtonRequest = () => {\n    var _s = $RefreshSig$();\n\n    dispatch(startLoading());\n    SignInAPI(username, pass).then(_s(response => {\n      _s();\n\n      if (response.data === false) {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        useEffect(() => setInvalid(\"Wrong Credentials, try again\"), []);\n        console.log(response);\n      } else {\n        setInvalid(\"\");\n        console.log(response);\n      }\n\n      dispatch(cancelLoading());\n    }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")).catch(error => {\n      dispatch(cancelLoading());\n      alert(\"Something went wrong, Recorded \" + error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(SignInContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      name: \"username\",\n      type: \"text\",\n      label: \"Username\",\n      value: username,\n      size: \"large\",\n      inputChange: onUserChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      name: \"password\",\n      type: \"password\",\n      label: \"Password\",\n      value: pass,\n      size: \"large\",\n      inputChange: onPassChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BoldSpan, {\n      children: invalid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onButtonRequest,\n        label: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(SignIn, \"i5VZmQBoGFZgl+IPQE0tWEY4raE=\", false, function () {\n  return [useDispatch];\n});\n\n_c2 = SignIn;\nexport default SignIn;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignInAPI\");\n$RefreshReg$(_c2, \"SignIn\");","map":{"version":3,"sources":["/Users/aneeshpothuru/Documents/GitHubProjects/paugur/src/api/user-info/sign-in/sign-in.js"],"names":["React","useState","useEffect","axios","websitePrefix","Input","Button","useDispatch","startLoading","cancelLoading","SignInContainer","ButtonContainer","BoldSpan","SignInAPI","username","password","url","method","data","headers","mode","SignIn","setUsername","pass","setPass","invalid","setInvalid","dispatch","onUserChange","event","target","value","onPassChange","onButtonRequest","then","response","console","log","catch","error","alert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { websitePrefix } from \"../../api-info\";\nimport Input from \"../../../components/input/input\";\nimport Button from \"../../../components/button/button\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  startLoading,\n  cancelLoading,\n} from \"../../../redux/loading/loading.actions\";\nimport { SignInContainer, ButtonContainer, BoldSpan } from \"./sign-in.styles\";\n\nexport const SignInAPI = (username, password) => {\n  return axios({\n    url: websitePrefix + \"api/log-login-attempt/\",\n    method: \"POST\",\n    data: {\n      \"user-id\": username,\n      \"user-password\": password,\n    },\n    headers: { \"Content-Type\": \"application/json\" },\n    mode: \"cors\",\n  });\n};\n\nconst SignIn = () => {\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [invalid, setInvalid] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const onUserChange = (event) => {\n    setUsername(event.target.value);\n  };\n\n  const onPassChange = (event) => {\n    setPass(event.target.value);\n  };\n\n  const onButtonRequest = () => {\n    dispatch(startLoading());\n    SignInAPI(username, pass)\n      .then((response) => {\n        if (response.data === false) {\n          // eslint-disable-next-line react-hooks/rules-of-hooks\n          useEffect(() => setInvalid(\"Wrong Credentials, try again\"), []);\n          console.log(response);\n        } else {\n          setInvalid(\"\");\n          console.log(response);\n        }\n        dispatch(cancelLoading());\n      })\n      .catch((error) => {\n        dispatch(cancelLoading());\n        alert(\"Something went wrong, Recorded \" + error);\n      });\n  };\n\n  return (\n    <SignInContainer>\n      <Input\n        name=\"username\"\n        type=\"text\"\n        label=\"Username\"\n        value={username}\n        size=\"large\"\n        inputChange={onUserChange}\n      />\n      <Input\n        name=\"password\"\n        type=\"password\"\n        label=\"Password\"\n        value={pass}\n        size=\"large\"\n        inputChange={onPassChange}\n      />\n      <BoldSpan>{invalid}</BoldSpan>\n      <ButtonContainer>\n        <Button onClick={onButtonRequest} label=\"Sign In\" />\n      </ButtonContainer>\n    </SignInContainer>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}